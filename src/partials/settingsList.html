<h2 class="heading-custom-contacts-list">
  {{::list.name}} <small>(<span translate>Contacts</span> {{contactsCount}})</small>
</h2>

<div ng-show='!isRouteLoading' class="main row page-dashboard" ng-class="{'show-options': sidebarOptions}">
  <div class="main-content col-xs-12 col-sm-8 col-md-9 pull-right-hard" cg-busy="dashboardDataTracker">
    <div class="custom-contacts-wrapper">
      <h2 class="heading-custom-contacts-list">List Settings</h2>
      <i translate>* Required Field</i>

      <form name="profileForm" autocomplete="off">
        <div class="form-group">
          <label class="control-label" for="name" translate>List Name*</label>
          <input class="form-control" type="text" name="name" ng-model="list.name" required/>
        </div>
        <div class="form-group">
          <h2 translate>Privacy</h2>
          <div class="radio">
            <label>
              <input type="radio" name="privacy" value="me" ng-model="list.privacy" /> Only visible to me
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="privacy" value="all" ng-model="list.privacy" /> Anyone within Humanitarian ID can view with link<br />
              <input type="text" name="url" value="{{path}}" size="75" disabled ng-show="list.privacy == 'all'" />
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="privacy" value="verified" ng-model="list.privacy" /> Only verified users within Humanitarian ID can view with link<br />
              <input type="text" name="url2" value="{{path}}" size="75" disabled ng-show="list.privacy == 'verified'" />
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="privacy" value="some" ng-model="list.privacy" /> Only certain people can view<br />
            </label>
              <!--<ui-select
                  name="readers"
                  class="form-control form-control-light {{$select.searching ? 'searching' : ''}}"
                  ng-model="list.readers"
                  theme="bootstrap"
                  on-select="refreshReaders()"
                  reset-search-input="true">
                    <ui-select-match allow-clear placeholder="{{'Enter the names'|translate}}">{{$select.selected.name}}</ui-select-match>
                    <ui-select-choices ng-class="{'not-empty': list.readers.length}" repeat="org in organizations | orderBy:'name'" refresh="refreshReaders($select, 2)">
                      <div ng-class="{default: !organizations.name.length}"  ng-bind-html="org.name"></div>
                    </ui-select-choices>
                </ui-select>-->
                <ui-select
                  name="readers"
                  class="form-control form-control-light {{$select.searching ? 'searching' : ''}}"
                  ng-model="list.readers"
                  ng-show="list.privacy == 'some'"
                  theme="bootstrap"
                  reset-search-input="true">
                    <ui-select-match allow-clear placeholder="{{'Please search for HID users'|translate}}">{{$select.selected.name}}</ui-select-match>
                    <ui-select-choices
                      ng-class="{'not-empty': list.readers.length}"
                      repeat="org in organizations | orderBy:'name'"
                      refresh="refreshReaders($select, 2)"
                      ui-disable-choice="org.disable">
                      <div ng-class="{default: !organizations.name.length}" ng-bind-html="org.alt || (org.name | highlight: $select.search) "></div>
                    </ui-select-choices>
                </ui-select>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="sidebar-left">
    <div class="col-xs-12 col-sm-4 col-md-3">
      <div class="actions">
        <a class="btn btn-primary btn-lg btn-block" ng-click="saveList()">
          <span translate>Save</span>
        </a>
        <a class="btn btn-default btn-lg btn-block" href="#/list/contacts?id={{list._id}}">
          </span> <span translate>Cancel</span>
        </a>
        <a class="btn btn-default btn-lg btn-block" ng-click="deleteList()">
          <span translate>Delete My List</span>
        </a>
      </div>
    </div>
  </div>
</div>
